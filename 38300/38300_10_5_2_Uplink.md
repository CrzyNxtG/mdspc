### 10.5.2 Uplink

The UE has an uplink rate control function which manages the sharing of
uplink resources between logical channels. RRC controls the uplink rate
control function by giving each logical channel a priority, a
prioritised bit rate (PBR), and a buffer size duration (BSD). The values
signalled need not be related to the ones signalled via NG to the gNB.
In addition, mapping restrictions can be configured (see clause 16.1.2).

The uplink rate control function ensures that the UE serves the logical
channel(s) in the following sequence:

1\. All relevant logical channels in decreasing priority order up to
their PBR;

2\. All relevant logical channels in decreasing priority order for the
remaining resources assigned by the grant.

NOTE 1: In case the PBRs are all set to zero, the first step is skipped
and the logical channels are served in strict priority order: the UE
maximises the transmission of higher priority data.

NOTE 2: The mapping restrictions tell the UE which logical channels are
relevant for the grant received. If no mapping restrictions are
configured, all logical channels are considered.

NOTE 3: Through radio protocol configuration and scheduling, the gNB can
guarantee the GFBR(s) and ensure that any of the MFBR(s), the UE-AMBR
and, when supported and feasible, the UE-Slice-MBR is not exceeded in
uplink (see clause 12).

NOTE 4: The mapping restrictions allows the gNB to fulfil the MDBV
requirements through scheduling at least for the case where logical
channels are mapped to separate serving cells.

If more than one logical channel have the same priority, the UE shall
serve them equally.