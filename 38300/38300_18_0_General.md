## 18.0 General

Small Data Transmission (SDT) is a procedure allowing data and/or
signalling transmission while remaining in RRC_INACTIVE state (i.e.
without transitioning to RRC_CONNECTED state). SDT is enabled on a radio
bearer basis and can be initiated either by the UE in case of MO-SDT
(Mobile Originated SDT) or by the network in case of MT-SDT (Mobile
Terminated SDT). MO-SDT is initiated by the UE only if less than or
equal to a configured amount of UL data awaits transmission across all
radio bearers for which SDT is enabled, the DL RSRP is above a
configured threshold, and a valid SDT resource is available as specified
in clause 5.27.1 of TS 38.321 \[6\]. MT-SDT is initiated by the network
with an indication to the UE in a paging message when DL data awaits
transmission for radio bearers configured for SDT; based on the
indication, the UE initiates the MT-SDT only if the DL RSRP is above a
configured threshold as specified in clause 5.27.1 of TS 38.321 \[6\].
When MT-SDT is initiated by the UE, a resume cause indicating MT-SDT is
included in the *RRCResumeRequest/RRCResumeRequest1.* Maximum duration
the SDT procedure can last is dictated by a SDT failure detection timer
that is configured by the network (see clause 6.2.2 of TS 38.331
\[12\]). Network can enable MO-SDT, MT-SDT, or both in a cell.

SDT procedure is initiated with either a transmission over RACH
(configured via system information) or over Type 1 CG resources
(configured via dedicated signalling in *RRCRelease*). The SDT resources
can be configured on initial BWP for both RACH and CG. RACH and CG
resources for SDT can be configured on either or both of NUL and SUL
carriers. The CG resources for SDT are valid only within the PCell of
the UE when the *RRCRelease* with suspend indication is received. CG
resources are associated with one or multiple SSB(s). For RACH, the
network can configure 2-step and/or 4-step RA resources for MO-SDT. When
both 2-step and 4-step RA resources for MO-SDT are configured, the UE
selects the RA type according to clause 9.2.6. If MT-SDT procedure is
initiated over RACH, only the RACH resources not configured for SDT can
be used by the UE. CFRA is not supported for SDT over RACH.

Once initiated, the SDT procedure is either:

\- successfully completed after the UE is directed to RRC_IDLE (via
*RRCRelease*) or to continue in RRC_INACTIVE (via *RRCRelease or
RRCReject*) or to RRC_CONNECTED (via *RRCResume or RRCSetup*); or

\- unsuccessfully completed upon cell re-selection, expiry of the SDT
failure detection timer, a MAC entity reaching a configured maximum
PRACH preamble transmission threshold, an RLC entity reaching a
configured maximum retransmission threshold, or integrity check failure
while SDT procedure is ongoing, or expiry of SDT-specific timing
alignment timer or *configuredGrantTimer* while SDT procedure is ongoing
over CG and the UE has not received a response from the network after
the initial PUSCH transmission.

Upon successful completion of the SDT procedure via an *RRCRelease*
message including *resumeIndication*, the UE triggers the initiation of
RRC Resume procedure.

Upon unsuccessful completion of the SDT procedure, the UE transitions to
RRC_IDLE.

For SDT, network should not send *RRCReject* in response to
*RRCResumeRequest/RRCResumeRequest1* if DL data over any radio bearer
configured for SDT is transmitted.

The initial PUSCH transmission during the SDT procedure includes at
least the CCCH message. When using CG resources for initial SDT
transmission, the UE can perform autonomous retransmission of the
initial transmission if the UE does not receive confirmation from the
network (dynamic UL grant or DL assignment) before a configured timer
expires as specified in clause 5.4.1 of TS 38.321 \[6\]. After the
initial PUSCH transmission, subsequent transmissions are handled
differently depending on the type of resource used to initiate the SDT
procedure:

\- When using CG resources, the network can schedule subsequent UL
transmissions using dynamic grants or they can take place on the
following CG resource occasions. The DL transmissions are scheduled
using dynamic assignments. The UE can initiate subsequent UL
transmission only after reception of confirmation (dynamic UL grant or
DL assignment) for the initial PUSCH transmission from the network. For
subsequent UL transmission, the UE cannot initiate re-transmission over
a CG resource.

\- When using RACH resources, the network can schedule subsequent UL and
DL transmissions using dynamic UL grants and DL assignments,
respectively, after the completion of the RA procedure.

When SDT procedure is initiated, AS security is applied for all the
radio bearers enabled for SDT as specified in clause 5.3.13.3 of TS
38.331 \[12\].

While the SDT procedure is ongoing, if data appears in a buffer of any
radio bearer not enabled for SDT, the UE initiates a transmission of a
non-SDT data arrival indication using *UEAssistanceInformation* message
to the network and, if available, includes the resume cause.

While the SDT procedure is ongoing and RA procedure is triggered (e.g.,
upon UL data arrival as specified in clause 9.2.6), only the RACH
resources not configured for SDT can be used by the UE.

SDT procedure over CG resources can only be initiated with valid UL
timing alignment. The UL timing alignment is maintained by the UE based
on a SDT-specific timing alignment timer configured by the network via
dedicated signalling and, for initial CG-SDT transmission, also by DL
RSRP of configured number of highest ranked SSBs which are above a
configured RSRP threshold. Upon expiry of the SDT-specific timing
alignment timer, the CG resources are released while maintaining the CG
resource configuration.

Logical channel restrictions configured by the network while in
RRC_CONNECTED state and/or in *RRCRelease* message for radio bearers
enabled for SDT, if any, are applied by the UE during SDT procedure.

The network may configure UE to apply ROHC continuity for SDT either
when the UE initiates SDT in the PCell of the UE when the *RRCRelease*
with suspend indication was received or when the UE initiates SDT in a
cell of its RNA.

For SDT procedure over CG resources, the network may configure maximum
time duration until the next valid CG occasion for initial CG-SDT
transmission based on which the UE decides whether SDT procedure over CG
resources can be initiated. The maximum time duration is configured per
logical channel for MO-SDT and per UE for MT-SDT.