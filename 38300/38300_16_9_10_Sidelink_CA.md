### 16.9.10 Sidelink CA

Carrier aggregation (CA) in sidelink is supported for mode 2 and in V2X
case only. It applies to both in coverage UEs and out of coverage UEs.
Each resource pool (pre)configured for sidelink is associated to a
single carrier. A UE using mode 2 resource allocation performs carrier
(re)selection and may select one or more carriers used for sidelink.

The carrier(s) that can be used for transmitting data are provided by
the V2X layer per QoS flow, and LCP ensures that data from a SLRB is
transmitted on a carrier for which all mapped QoS flows are allowed to
use the carrier.

For groupcast and broadcast, when the V2X layer provides multiple
carriers in QoS flow to carrier mapping information to the AS, TX
profile is used to indicate whether the transmission corresponding to
the QoS flow is backward compatible or not. When backward compatibility
is needed, the TX UE uses only the legacy carrier without PDCP
duplication, or uses PDCP duplication with at least the legacy carrier.
A UE assumes backward compatibility is needed for the QoS flow if there
is no associated TX profile.

For groupcast and broadcast, carrier selection is performed at MAC
layer, depending on the CBR of the configured carriers and logical
channel priority. In order to avoid frequent switching across different
carriers, the UE may keep using a carrier already selected for
transmission, if the measured CBR on this carrier is lower than a
(pre)configured threshold. For a UE using mode 2 resource allocation,
logical channel prioritization is performed for a sidelink resource on a
carrier depending on the CBR measured on the carrier and the logical
channel priority, as specified in TS 38.321 \[6\]. For unicast, SL CA
related capability is exchanged between the TX UE and RX UE, and the TX
UE delivers the carrier configuration to the RX UE in PC5-RRC. For
unicast, carrier selection and logical channel prioritization is
performed similar to groupcast and broadcast among the carriers
configured in the carrier configuration. SL CA for unicast is not
applied until the carrier configuration signalling is complete. When the
TX UE detects carrier failure on a specific carrier, carrier
(re)selection is performed by excluding the failed carrier, as specified
in TS 38.321 \[6\] and a new carrier configuration is sent to the RX UE
as specified in TS 38.331 \[12\].

Sidelink packet duplication is supported for sidelink CA and is
performed at PDCP layer. For sidelink packet duplication for
transmission, a PDCP PDU is duplicated at the PDCP entity. The
duplicated PDCP PDUs of the same PDCP entity are submitted to two
different RLC entities and associated to two different sidelink logical
channels respectively. The duplicated PDCP PDUs of the same PDCP entity
are only allowed to be transmitted on different sidelink carriers. For a
SL DRB, sidelink packet duplication is either (pre)configured in the
bearer configuration if the TX profile indicates backward compatibility
is not needed, or is decided by the TX UE if the TX profile indicates
backward compatibility is needed. For applicable SL SRBs, whether to use
duplication is decided by the TX UE. In unicast, the TX UE sends the
duplication configuration to the RX UE in PC5-RRC.

There are specified logical channel identities which apply to the
sidelink logical channel used for sidelink packet duplication
exclusively as specified in TS 38.321 \[6\].